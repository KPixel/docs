---
title: Publish .NET Core apps with the CLI
description: Learn to publish a .NET Core app with the .NET Core SDK command-line interface (CLI) tools.
author: thraka
ms.author: adegeo
ms.date: 01/16/2019
dev_langs: 
  - "csharp"
  - "vb"
ms.custom: seodec18
---
# Publish .NET Core apps with the CLI

This article demonstrates how you can publish your .NET Core application from the command-line. .NET Core provides three ways to publish your applications: *framework-dependent* produces a .dll file that uses the locally installed .NET Core runtime, *framework-dependent executable* produces a platform specific executable that uses the locally installed .NET Core runtime, *self-contained* produces a platform specific binary and includes a local copy of the .NET Core runtime.

For an overview of these deployment modes, see [.NET Core Application Deployment](index.md). 

Looking for some quick help on using the CLI? The following table shows some examples of how to publish your app. See the sections below for more information.

| Publish Mode | SDK Version | Command |
| ------------ | ----------- | ------- |
| Framework-dependent deployment | 2.1 | `dotnet publish -f netcoreapp2.1` |
|                                | 2.2 | `dotnet publish -f netcoreapp2.2` |
|                                | 3.0 | `dotnet publish -f netcoreapp3.0` |
|                                | 2.x* | `dotnet publish` |
| Framework-dependent executable | 2.2 | `dotnet publish -f netcoreapp2.2 -r <RID> --self-contained false` |
|                                | 3.0 | `dotnet publish -f netcoreapp3.0 -r <RID> --self-contained false` |
|                                | 3.0* | `dotnet publish` |
| Self-contained deployment      | 2.1 | `dotnet publish -f netcoreapp2.1 -r <RID> --self-contained true` |
|                                | 2.2 | `dotnet publish -f netcoreapp2.2 -r <RID> --self-contained true` |
|                                | 3.0 | `dotnet publish -f netcoreapp3.0 -r <RID> --self-contained true` |

\* When using this SDK version, this is the default Publish Mode when running the basic `dotnet publish` command.

## Publishing basics

When you publish your app, the default target the app is compiled for (automatically chosen when you create the app) is specified in the `<TargetFramework>` setting of the project file. Choose any valid [Target Framework Moniker (TFM)](~/dotnet/standard/frameworks.md). For example, if you have `<TargetFramework>netcoreapp2.2</TargetFramework>` you will get a binary that targets .NET Core 2.2. The TFM specified in this setting is the default target used by the [`dotnet publish`][dotnet-publish] command.

You can use the `<TargetFrameworks>` setting (note the plural) to specify multiple frameworks supported by your app. Separate each TFM with a semicolon. You can publish, targeting one of the listed frameworks, with the `dotnet publish -f <TFM>` command. For example, if you have `<TargetFrameworks>netcoreapp2.1;netcoreapp2.2</TargetFrameworks>`, and run `dotnet publish -f netcoreapp2.1`, you'll get a binary that targets .NET Core 2.1. 

Unless otherwise set, the output directory of the [`dotnet publish`][dotnet-publish] command is `<CURRENT-FOLDER>/bin/<BUILD-CONFIGURATION>/<TFM>/publish/`. The default **BUILD-CONFIGURATION** mode is **Debug**. Regardless of the  By default, `dotnet publish` (framework with `-f` or not) will build a *framework-dependent deployment* app.

### Native dependencies

If your app or a library you referenced has a dependency on something about your operating system, you may not be able to run your app on a different operating system. For example, if you (on Windows) referenced a library that used the native Win32 API, you wouldn't be able to run your app on macOS or Linux. It is possible that your reference (if a NuGet package) has included platform-specific libraries. If this the case, you would see the appropriate files in the output folder. Though when distributing an app like this, you may need to use the `dotnet publish -r <RID>` switch to specify the target platform you want to publish for. For a list of runtime identifiers, see [Runtime Identifier (RID) catalog](..\rid-catalog.md).

More information about platform-specific binaries is covered in the [Framework-dependent executable](#framework-dependent-executable) and [Self-contained deployment](#self-contained-deployment) sections.

## Sample app

If you would like to quickly test publishing an app, but don't have an app handy, here is a small application to play with. It is created by running the following commands in your terminal:

```terminal
mkdir apptest1
cd apptest1
dotnet new console
dotnet add package Figgle
```

The `Program.cs` or `Program.vb` file that is generated by the console template needs to be changed to the following:

```csharp
using System;

namespace apptest1
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine(Figgle.FiggleFonts.Standard.Render("Hello, World!"));
        }
    }
}
```
```vb
Imports System

Module Program
    Sub Main(args As String())
        Console.WriteLine(Figgle.FiggleFonts.Standard.Render("Hello, World!"))
    End Sub
End Module
```

When you run the app ([`dotnet run`][dotnet-run]), you'll see the following output:

```terminal
  _   _      _ _         __        __         _     _ _
 | | | | ___| | | ___    \ \      / /__  _ __| | __| | |
 | |_| |/ _ \ | |/ _ \    \ \ /\ / / _ \| '__| |/ _` | |
 |  _  |  __/ | | (_) |    \ V  V / (_) | |  | | (_| |_|
 |_| |_|\___|_|_|\___( )    \_/\_/ \___/|_|  |_|\__,_(_)
                     |/
```

## Framework-dependent deployment

For .NET Core 2.x, this publish mode is the default mode for the basic `dotnet publish` command.

When you publish your app as a *framework-dependent deployment* (FDD), a `<PROJECT-NAME>.dll` file is created in the `<CURRENT-FOLDER>/bin/<BUILD-CONFIGURATION>/<TFM>/publish/` folder. To run your app, navigate to the output folder and call the `dotnet <PROJECT-NAME>.dll` command. 

Your app is configured to target a specific version of .NET Core. For example, if your app targets .NET Core 2.2, any machine that your app runs on must have the .NET Core 2.2 runtime installed. As stated in the [Publishing basics](#publishing-basics) section, you can edit your project file to change the default target framework, or target multiple frameworks.

## Framework-dependent executable

For .NET Core 3.x, this publish mode is the default mode for the basic `dotnet publish` command. You do not need to specify any other parameter as long as want to target the operating system you're currently using.

By publishing a *framework-dependent executable* (FDE), a platform-specific executable is created. Similar to the FDD publish mode, your app will target the matching version of .NET Core that was used to publish. Your app is still created as a `.dll` file (like with FDD), but in addition, a host executable is generated that is specific to the target platform. Users can run this executable instead of the `dotnet name.dll` command.

You must (except for .NET Core 3.x) use the following switches with the `dotnet publish` command to publish an FDE:

- `-r <RID>`  
  This switch is used to specify which platform to compile an executable for and uses a runtime identifier (RID). For a list of runtime identifiers, see [Runtime Identifier (RID) catalog](..\rid-catalog.md). The target runtime identifier must support the selected version of .NET Core. 

- `--self-contained false`  
  This switch is used to tell the .NET Core SDK to create the executable (that targets the RID) as an FDE.

Whenever you use the `-r` switch, the output folder path changes to: `<CURRENT-FOLDER>/bin/<BUILD-CONFIGURATION>/<TFM>/<RID>/publish/`

As an example, take the example app above, run `dotnet publish -f netcoreapp2.2 -r win10-x64 --self-contained false`. This will create the following executable: `<CURRENT-FOLDER>/bin/Debug/netcoreapp2.2/win10-x64/publish/apptest1.exe`

> [!Note]
> You can reduce the total size of your deployment by enabling **globalization invariant mode**. This mode is useful for applications that are not globally aware and that can use the formatting conventions, casing conventions, and string comparison and sort order of the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture). For more information about **globalization invariant mode** and how to enable it, see [.NET Core Globalization Invariant Mode](https://github.com/dotnet/corefx/blob/master/Documentation/architecture/globalization-invariant-mode.md)

## Self-contained deployment

If you publish a *self-contained deployment* (SCD), the .NET Core SDK bundles all files needed to run the app for the specified platform, including an executable that targets the specified platform. Publishing an SCD doesn't include the [native dependencies of .NET Core](https://github.com/dotnet/core/blob/master/Documentation/prereqs.md) on various platforms, so these must be present before the app runs. For more information on version binding at compile time, see [Select the .NET Core version to use](../versions/selection.md).

You must use the following switches with the `dotnet publish` command to publish an SCD:

- `-r <RID>`  
  This switch is used to specify which platform to compile an executable for and uses a runtime identifier (RID). For a list of runtime identifiers, see [Runtime Identifier (RID) catalog](..\rid-catalog.md). The target runtime identifier must support the selected version of .NET Core. 

- `--self-contained true`  
  This switch is used to tell the .NET Core SDK to bundle the target framework with your app, and to create the executable (that targets the RID) as an SCD.

> [!Note]
> You can reduce the total size of your deployment by enabling **globalization invariant mode**. This mode is useful for applications that are not globally aware and that can use the formatting conventions, casing conventions, and string comparison and sort order of the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture). For more information about **globalization invariant mode** and how to enable it, see [.NET Core Globalization Invariant Mode](https://github.com/dotnet/corefx/blob/master/Documentation/architecture/globalization-invariant-mode.md)


## See also

* [.NET Core Application Deployment Overview](index.md)
* [.NET Core Runtime IDentifier (RID) catalog](../rid-catalog.md)

[dotnet-publish]: ..\tools\dotnet-publish.md
[dotnet-run]: ..\tools\dotnet-run.md